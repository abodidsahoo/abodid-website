#!/usr/bin/env bash
set -euo pipefail

protected_branch="main"

current_branch="$(git rev-parse --abbrev-ref HEAD)"

if [[ "$current_branch" == "$protected_branch" ]]; then
  echo ""
  echo "Push blocked: you are on '$protected_branch'."
  echo "Use a feature branch (e.g. codex/... or othertool/...) and open a PR."
  echo ""
  exit 1
fi
