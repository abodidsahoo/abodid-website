---
export const prerender = false;
import AdminLayout from "../../layouts/AdminLayout.astro";
import ThemeToggle from "../../components/ThemeToggle.astro";
import ContentEditor from "../../components/admin/ContentEditor.jsx";

// Parse URL params
const table = Astro.url.searchParams.get("table");
const id = Astro.url.searchParams.get("id");

// Redirect if missing params
if (!table || !id) {
  return Astro.redirect("/admin/dashboard");
}
---

<AdminLayout title="Editor" fullWidth={true}>
  <div style="position: absolute; top: 1rem; right: 1rem; z-index: 100;">
    <ThemeToggle />
  </div>
  <ContentEditor client:only="react" table={table} id={id} />
</AdminLayout>
